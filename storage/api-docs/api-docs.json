{
    "openapi": "3.0.0",
    "info": {
        "title": "Swagger with Laravel",
        "version": "1.0.0"
    },
    "paths": {
        "/api/book/create": {
            "post": {
                "tags": [
                    "Books"
                ],
                "summary": "Create a new book",
                "operationId": "createBook",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "category_id",
                                    "name",
                                    "author",
                                    "total_copies",
                                    "available_copies"
                                ],
                                "properties": {
                                    "category_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "The Great Gatsby"
                                    },
                                    "author": {
                                        "type": "string",
                                        "example": "F. Scott Fitzgerald"
                                    },
                                    "short_description": {
                                        "type": "string",
                                        "example": "A novel set in the 1920s",
                                        "nullable": true
                                    },
                                    "total_copies": {
                                        "type": "integer",
                                        "example": 10
                                    },
                                    "available_copies": {
                                        "type": "integer",
                                        "example": 8
                                    },
                                    "book_cover": {
                                        "description": "Book cover image (jpg, jpeg, png, gif)",
                                        "type": "file"
                                    },
                                    "pdf_file": {
                                        "description": "PDF version of the book",
                                        "type": "file"
                                    },
                                    "audio_file": {
                                        "description": "Audio version of the book (mp3 or wav)",
                                        "type": "file"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Book created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "book create successfully"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Book"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Validation errors",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/book/list": {
            "get": {
                "tags": [
                    "Books"
                ],
                "summary": "Get list of books with optional filters and pagination",
                "operationId": "2987ac6eb5f5f261b85a9b3735c1bb66",
                "parameters": [
                    {
                        "name": "name",
                        "in": "query",
                        "description": "Filter by book name",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "author",
                        "in": "query",
                        "description": "Filter by author name",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "category",
                        "in": "query",
                        "description": "Filter by category name",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Number of results per page (pagination)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 10
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Book"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/book/retrieve/{id}": {
            "get": {
                "tags": [
                    "Books"
                ],
                "summary": "Retrieve a single book by ID",
                "operationId": "ea9e352ba3d45f07cb10e4a2f1823aac",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the book to retrieve",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful retrieval of book details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/Book"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Book not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Book with this id is not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/book/edit/{id}": {
            "post": {
                "tags": [
                    "Books"
                ],
                "summary": "Update an existing book",
                "description": "Update book information including files (cover, PDF, audio). Use POST with _method=PUT for file uploads.",
                "operationId": "ac9ae3a1cf4f2ddfa0f7bebd2f1798de",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the book to update",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "_method",
                                    "category_id",
                                    "name",
                                    "author",
                                    "total_copies",
                                    "available_copies"
                                ],
                                "properties": {
                                    "_method": {
                                        "description": "HTTP method override to support PUT with multipart/form-data",
                                        "type": "string",
                                        "example": "PUT"
                                    },
                                    "category_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "Advanced Laravel"
                                    },
                                    "author": {
                                        "type": "string",
                                        "example": "Masud Bhuiyan"
                                    },
                                    "short_description": {
                                        "type": "string",
                                        "example": "A deep dive into Laravel."
                                    },
                                    "total_copies": {
                                        "type": "integer",
                                        "example": 10
                                    },
                                    "available_copies": {
                                        "type": "integer",
                                        "example": 5
                                    },
                                    "book_cover": {
                                        "description": "Optional book cover image",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "pdf_file": {
                                        "description": "Optional PDF version of the book",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "audio_file": {
                                        "description": "Optional audio version of the book",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Book updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Book updated successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Validation error or book not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/book/delete/{id}": {
            "delete": {
                "tags": [
                    "Books"
                ],
                "summary": "Delete a book by ID",
                "operationId": "74fad88b506f38ed9df7464dc7932222",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Book ID to delete",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Book deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Book deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Book not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/book/popular-books": {
            "get": {
                "tags": [
                    "Books"
                ],
                "summary": "Get top 20 popular books",
                "description": "Returns the 20 most borrowed books with their category details",
                "operationId": "d3b348368c84b82f562157e9486b03a7",
                "responses": {
                    "200": {
                        "description": "List of popular books",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Top 20 popular books"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Book"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/book/new-collection": {
            "get": {
                "tags": [
                    "Books"
                ],
                "summary": "Get latest 20 books",
                "description": "Returns the 20 most recently added books with category details",
                "operationId": "ed43e0dc3e21613a503fbe1fb9899af9",
                "responses": {
                    "200": {
                        "description": "List of latest books",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Latest 20 books"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Book"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/book/{id}/is_available": {
            "get": {
                "tags": [
                    "Books"
                ],
                "summary": "Check if a book is available",
                "description": "Returns whether the book with the given ID has available copies",
                "operationId": "7aeeb35a4ec0a7abab8bc53dbb594244",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the book to check availability",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Availability status",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "is_available": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Book not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Book is not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/category/create": {
            "post": {
                "tags": [
                    "Categories"
                ],
                "summary": "Create a new category",
                "operationId": "720fa91edfe99b9c6a4b68e1aa33871a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "category_name"
                                ],
                                "properties": {
                                    "category_name": {
                                        "type": "string",
                                        "example": "Science Fiction"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Category created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Category created successfully"
                                        },
                                        "category": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "category_name": {
                                                    "type": "string",
                                                    "example": "Science Fiction"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2025-07-31T12:00:00.000000Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2025-07-31T12:00:00.000000Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "category_name": {
                                            "type": "array",
                                            "items": {
                                                "type": "string",
                                                "example": "The category_name field is required."
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/category/list": {
            "get": {
                "tags": [
                    "Categories"
                ],
                "summary": "Get all categories",
                "operationId": "2d299c2c5fd8771f38a0a38df0a2b58b",
                "responses": {
                    "200": {
                        "description": "List of categories",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "categories": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "category_name": {
                                                        "type": "string",
                                                        "example": "Books"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "example": "2024-07-31T10:15:00Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "example": "2024-07-31T10:20:00Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/category/update/{id}": {
            "put": {
                "tags": [
                    "Categories"
                ],
                "summary": "Update a category",
                "operationId": "1a78fdb5858cadd0ff572470d33ce615",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the category to update",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "category_name"
                                ],
                                "properties": {
                                    "category_name": {
                                        "type": "string",
                                        "example": "Updated Category"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Category updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Category updated successfully"
                                        },
                                        "category": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "category_name": {
                                                    "type": "string",
                                                    "example": "Updated Category"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2024-07-31T10:15:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2024-07-31T10:20:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "category_name": {
                                            "type": "array",
                                            "items": {
                                                "type": "string",
                                                "example": "The category name has already been taken."
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Category not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Category not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/category/delete/{id}": {
            "delete": {
                "tags": [
                    "Categories"
                ],
                "summary": "Delete a category",
                "operationId": "177ca7c6efc6f8228b4883c4770ada7d",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the category to delete",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Category deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Category deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Category not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Category not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/donation/create": {
            "post": {
                "tags": [
                    "Donation Requests"
                ],
                "summary": "Create a new donation request",
                "description": "Creates a new donation request. Authenticated users only.",
                "operationId": "createDonationRequest",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "book_title",
                                    "number_of_copies",
                                    "contact_number"
                                ],
                                "properties": {
                                    "book_title": {
                                        "type": "string",
                                        "example": "Clean Code"
                                    },
                                    "author_name": {
                                        "type": "string",
                                        "example": "Robert C. Martin"
                                    },
                                    "number_of_copies": {
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "location": {
                                        "type": "string",
                                        "example": "Chittagong Central Library"
                                    },
                                    "contact_number": {
                                        "type": "string",
                                        "example": "+8801771234567"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Donation request created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DonationRequest"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/donation/list": {
            "get": {
                "tags": [
                    "Donation Requests"
                ],
                "summary": "List donation requests",
                "description": "Admins see only pending requests. Other users see their own donation requests.",
                "operationId": "listDonationRequests",
                "responses": {
                    "200": {
                        "description": "List of donation requests",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/DonationRequest"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/donation/retrieve/{id}": {
            "get": {
                "tags": [
                    "Donation Requests"
                ],
                "summary": "Retrieve a specific donation request",
                "description": "Admins can retrieve any donation request. Users can retrieve only their own.",
                "operationId": "getDonationRequestById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the donation request",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Donation request details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DonationRequest"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized access"
                    },
                    "404": {
                        "description": "Donation request not found"
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/donation/edit/{id}": {
            "put": {
                "tags": [
                    "Donation Requests"
                ],
                "summary": "Update a donation request",
                "description": "Only the user who created the donation request can update it.",
                "operationId": "updateDonationRequest",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the donation request",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "book_title": {
                                        "type": "string",
                                        "example": "Introduction to Algorithms"
                                    },
                                    "author_name": {
                                        "type": "string",
                                        "example": "Thomas H. Cormen"
                                    },
                                    "number_of_copies": {
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "location": {
                                        "type": "string",
                                        "example": "Main Library"
                                    },
                                    "contact_number": {
                                        "type": "string",
                                        "example": "0123456789"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Donation request updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DonationRequest"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized access"
                    },
                    "404": {
                        "description": "Donation request not found"
                    },
                    "422": {
                        "description": "Validation errors"
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/donation/delete/{id}": {
            "delete": {
                "tags": [
                    "Donation Requests"
                ],
                "summary": "Delete a donation request",
                "description": "Only the user who created the donation request can delete it.",
                "operationId": "deleteDonationRequest",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the donation request",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Donation request deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Donation request deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized access"
                    },
                    "404": {
                        "description": "Donation request not found"
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/donation/approve-reject/{id}": {
            "patch": {
                "tags": [
                    "Donation Requests"
                ],
                "summary": "Approve or reject a donation request",
                "description": "Only admin users can approve or reject donation requests.",
                "operationId": "approveRejectDonationRequest",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the donation request",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "action"
                                ],
                                "properties": {
                                    "action": {
                                        "type": "string",
                                        "enum": [
                                            "approve",
                                            "reject"
                                        ],
                                        "example": "approve"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Donation request status updated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DonationRequest"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid action"
                    },
                    "403": {
                        "description": "Unauthorized access"
                    },
                    "404": {
                        "description": "Donation request not found"
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/settings/get-settings": {
            "get": {
                "tags": [
                    "Settings"
                ],
                "summary": "Get system settings",
                "operationId": "d3902d89ed80d225a67be41356f9dc51",
                "responses": {
                    "200": {
                        "description": "Settings retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/Settings"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/settings/borrow-day-limit": {
            "patch": {
                "tags": [
                    "Settings"
                ],
                "summary": "Update borrow day limit",
                "operationId": "879b5073ff2bc7f55e498acbaf049ff1",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "max_borrow_duration"
                                ],
                                "properties": {
                                    "max_borrow_duration": {
                                        "type": "integer",
                                        "example": 30
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Borrow duration updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Settings"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/settings/borrow-extend-limit": {
            "patch": {
                "tags": [
                    "Settings"
                ],
                "summary": "Update borrow extension limit",
                "operationId": "75337c3bde591521563ca3a40e06b458",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "max_extension_limit"
                                ],
                                "properties": {
                                    "max_extension_limit": {
                                        "type": "integer",
                                        "example": 2
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Borrow extension count updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Settings"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/settings/borrow-limit": {
            "patch": {
                "tags": [
                    "Settings"
                ],
                "summary": "Update max borrow limit",
                "operationId": "1e3d3fa91263e340a40dab36370fa620",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "max_borrow_limit"
                                ],
                                "properties": {
                                    "max_borrow_limit": {
                                        "type": "integer",
                                        "example": 3
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Borrow limit updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Settings"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/settings/booking-duration": {
            "patch": {
                "tags": [
                    "Settings"
                ],
                "summary": "Update max booking duration",
                "operationId": "dbda560f7419cc7c1949e882d33dfe4a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "max_booking_duration"
                                ],
                                "properties": {
                                    "max_booking_duration": {
                                        "type": "integer",
                                        "example": 7
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Booking duration updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Settings"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/settings/booking-days-limit": {
            "patch": {
                "tags": [
                    "Settings"
                ],
                "summary": "Update max booking limit",
                "operationId": "d18f6c3b2acad1855a92b146cd2a4c18",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "max_booking_limit"
                                ],
                                "properties": {
                                    "max_booking_limit": {
                                        "type": "integer",
                                        "example": 3
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Booking limit updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Settings"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "Book": {
                "title": "Book Resource",
                "required": [
                    "id",
                    "category",
                    "name",
                    "author",
                    "total_copies",
                    "available_copies"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "category": {
                        "description": "Either category ID or full category object if loaded",
                        "oneOf": [
                            {
                                "type": "integer",
                                "example": 2
                            },
                            {
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "Fiction"
                                    }
                                },
                                "type": "object"
                            }
                        ]
                    },
                    "name": {
                        "type": "string",
                        "example": "The Great Gatsby"
                    },
                    "author": {
                        "type": "string",
                        "example": "F. Scott Fitzgerald"
                    },
                    "short_description": {
                        "type": "string",
                        "example": "A classic novel set in the 1920s",
                        "nullable": true
                    },
                    "total_copies": {
                        "type": "integer",
                        "example": 10
                    },
                    "available_copies": {
                        "type": "integer",
                        "example": 7
                    },
                    "book_cover_url": {
                        "type": "string",
                        "format": "url",
                        "example": "http://localhost/storage/book_covers/cover.jpg",
                        "nullable": true
                    },
                    "pdf_file_url": {
                        "type": "string",
                        "format": "url",
                        "example": "http://localhost/storage/pdf_files/book.pdf",
                        "nullable": true
                    },
                    "audio_file_url": {
                        "type": "string",
                        "format": "url",
                        "example": "http://localhost/storage/audio_files/book.mp3",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "DonationRequest": {
                "title": "DonationRequest",
                "required": [
                    "id",
                    "user_id",
                    "book_title",
                    "status",
                    "number_of_copies",
                    "contact_number"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "user_id": {
                        "type": "integer",
                        "example": 5
                    },
                    "book_title": {
                        "type": "string",
                        "example": "Introduction to Algorithms"
                    },
                    "author_name": {
                        "type": "string",
                        "example": "Thomas H. Cormen"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "pending",
                            "approved",
                            "rejected"
                        ],
                        "example": "pending"
                    },
                    "number_of_copies": {
                        "type": "integer",
                        "example": 2
                    },
                    "location": {
                        "type": "string",
                        "example": "Dhaka Library Zone 3"
                    },
                    "contact_number": {
                        "type": "string",
                        "example": "+8801700000000"
                    }
                },
                "type": "object"
            },
            "Settings": {
                "title": "Settings",
                "required": [
                    "max_borrow_duration",
                    "max_borrow_limit",
                    "max_extension_limit",
                    "max_booking_duration",
                    "max_booking_limit"
                ],
                "properties": {
                    "max_borrow_duration": {
                        "type": "integer",
                        "example": 30
                    },
                    "max_borrow_limit": {
                        "type": "integer",
                        "example": 3
                    },
                    "max_extension_limit": {
                        "type": "integer",
                        "example": 2
                    },
                    "max_booking_duration": {
                        "type": "integer",
                        "example": 7
                    },
                    "max_booking_limit": {
                        "type": "integer",
                        "example": 3
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Books",
            "description": "Books"
        },
        {
            "name": "Categories",
            "description": "Categories"
        },
        {
            "name": "Donation Requests",
            "description": "Donation Requests"
        },
        {
            "name": "Settings",
            "description": "Settings"
        }
    ]
}